<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âœˆï¸ Smart Travel Planner</title>
    <link
        rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-N0mJ3x9C3bNcug65p6Zj3isPpQ8RbP4v1sO7f7kBcwY="
        crossorigin=""
    >
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}?v={{ cache_buster }}">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">âœˆï¸ Smart Travel Planner</div>
            <div class="nav-tagline">Plan Your Perfect Adventure</div>
        </div>
    </nav>

    <div class="hero">
        <div class="hero-content">
            <h1>Plan Your Perfect Trip</h1>
            <p>Get personalized day-by-day itineraries tailored to your style and budget</p>
        </div>
    </div>

    <div class="container">
        <div class="main-content">
            <!-- Input Form -->
            <div class="form-section">
                <h2>Trip Details</h2>
                <form id="plannerForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="source">ğŸ  Source City</label>
                            <div style="position: relative;">
                                <input type="text" id="source" name="source" value="New York" required>
                                <div id="sourceSuggestions" class="autocomplete-dropdown hidden"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="destination">ğŸŒ Destination</label>
                            <div style="position: relative;">
                                <input type="text" id="destination" name="destination" value="Tokyo" required>
                                <div id="destinationSuggestions" class="autocomplete-dropdown hidden"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="days">ğŸ“… Number of Days</label>
                            <input type="number" id="days" name="days" min="1" max="30" value="5" required>
                        </div>
                        <div class="form-group">
                            <label for="budget">ğŸ’° Total Budget ($)</label>
                            <input type="number" id="budget" name="budget" min="500" max="20000" value="3000" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="style">ğŸ¯ Travel Style</label>
                            <select id="style" name="style" required>
                                <option value="Budget">Budget</option>
                                <option value="Mid-Range" selected>Mid-Range</option>
                                <option value="Luxury">Luxury</option>
                                <option value="Adventure">Adventure</option>
                                <option value="Cultural">Cultural</option>
                                <option value="Relaxation">Relaxation</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="group">ğŸ‘¥ Traveling With</label>
                            <select id="group" name="group" required>
                                <option value="Solo" selected>Solo</option>
                                <option value="Couple">Couple</option>
                                <option value="Family">Family</option>
                                <option value="Friends Group">Friends Group</option>
                                <option value="Corporate">Corporate</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="start_date">ğŸ›« Target Start Date</label>
                            <input type="date" id="start_date" name="start_date">
                        </div>
                        <div class="form-group">
                            <label for="travelers">ğŸ‘¤ Travelers Count</label>
                            <input type="number" id="travelers" name="travelers" min="1" value="1">
                            <small class="input-hint">Required for non-solo plans</small>
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label>â¤ï¸ Your Interests</label>
                        <div class="checkbox-grid">
                            <label class="checkbox-label">
                                <input type="checkbox" name="interests" value="History & Culture"> History & Culture
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="interests" value="Food & Dining" checked> Food & Dining
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="interests" value="Adventure Sports"> Adventure Sports
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="interests" value="Nature"> Nature
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="interests" value="Nightlife"> Nightlife
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="interests" value="Shopping"> Shopping
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="interests" value="Beach"> Beach
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="interests" value="Mountains"> Mountains
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="interests" value="Art & Museums" checked> Art & Museums
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="interests" value="Photography"> Photography
                            </label>
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label for="special_needs">â™¿ Special Needs (optional)</label>
                        <textarea id="special_needs" name="special_needs" placeholder="e.g., wheelchair accessible, vegetarian only, kid-friendly, etc." rows="3"></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary btn-large">
                        ğŸš€ Generate My Itinerary
                    </button>
                </form>
            </div>

            <!-- Results Section -->
            <div id="resultsSection" class="results-section hidden">
                <!-- Tabs -->
                <div class="tabs">
                    <button class="tab-button active" data-tab="itinerary">ğŸ“‹ Daily Itinerary</button>
                    <button class="tab-button" data-tab="budget">ğŸ’³ Budget Breakdown</button>
                    <button class="tab-button" data-tab="recommendations">ğŸ’¡ Tips & Recommendations</button>
                    <button class="tab-button" data-tab="overview">ğŸ—ºï¸ Trip Overview</button>
                    <button class="tab-button" data-tab="map">ğŸ—ºï¸ Map & Attractions</button>
                </div>

                <!-- Tab Contents -->
                <div class="tabs-content">
                    <!-- Itinerary Tab -->
                    <div class="tab-content active" id="itinerary-tab">
                        <h2 id="itineraryTitle"></h2>
                        <div id="itineraryContent"></div>
                    </div>

                    <!-- Budget Tab -->
                    <div class="tab-content" id="budget-tab">
                        <h2>ğŸ’³ Budget Breakdown</h2>
                        <div class="budget-metrics">
                            <div id="budgetContent"></div>
                        </div>
                    </div>

                    <!-- Recommendations Tab -->
                    <div class="tab-content" id="recommendations-tab">
                        <h2>ğŸ’¡ Pro Tips & Recommendations</h2>
                        <div id="recommendationsContent"></div>
                    </div>

                    <!-- Overview Tab -->
                    <div class="tab-content" id="overview-tab">
                        <h2>ğŸ“Š Trip Overview</h2>
                        <div id="overviewContent"></div>
                    </div>

                    <!-- Map & POIs Tab -->
                    <div class="tab-content" id="map-tab">
                        <h2>ğŸ—ºï¸ Interactive Map & Nearby Attractions</h2>
                        <div id="mapSection" class="map-section">
                            <div id="mapEmptyState" class="empty-state">
                                Provide both source and destination to see the route and nearby attractions.
                            </div>
                            <div class="map-layout hidden" id="mapLayout">
                                <div>
                                    <div id="routeSummary" class="route-summary hidden"></div>
                                    <div id="map" class="map-canvas"></div>
                                </div>
                                <div>
                                    <h3 style="margin-bottom: 10px;">Top Nearby Spots</h3>
                                    <div id="poiList" class="poi-list"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Loading Spinner -->
            <div id="loadingSpinner" class="spinner hidden">
                <div class="spinner-border"></div>
                <p>Planning your perfect trip...</p>
            </div>

            <!-- Error Message -->
            <div id="errorMessage" class="error-message hidden"></div>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2024 Smart Travel Planner. Plan your adventures with AI.</p>
    </footer>

    <script
        src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-VxXNtYlRkD7qyWXckP0JwAzG4t0L1Q5lH0x3QmQHcRg="
        crossorigin=""
    ></script>
    <script src="{{ url_for('static', filename='js/app.js') }}?v={{ cache_buster }}"></script>
</body>
</html>
